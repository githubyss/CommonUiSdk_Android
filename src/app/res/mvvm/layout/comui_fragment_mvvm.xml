<?xml version="1.0" encoding="utf-8"?>
<layout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:bind="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    tools:context=".app.page.mvvm.MvvmActivity">

    <data>

        <import type="com.githubyss.mobile.common.ui.app.page.mvvm.MvvmVmLiveData" />

        <variable
            name="mvvmVm"
            type="MvvmVmLiveData" />
    </data>

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/comui_layoutBg_lightGray"
        android:orientation="vertical">

        <ScrollView
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:fillViewport="true"
            android:scrollbars="none">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:orientation="vertical">

                <com.google.android.flexbox.FlexboxLayout
                    android:id="@+id/flexbox_page_content"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:paddingTop="@dimen/comui_sideMargin_normal"
                    android:paddingRight="@dimen/comui_sideMargin_normal"
                    android:paddingBottom="@dimen/comui_sideMargin_normal"
                    android:paddingLeft="@dimen/comui_sideMargin_normal"
                    app:flexDirection="column"
                    app:justifyContent="space_between">

                    <com.google.android.flexbox.FlexboxLayout
                        android:id="@+id/flexbox_text"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:visibility="visible"
                        app:flexDirection="column"
                        app:justifyContent="flex_start">

                        <com.githubyss.mobile.common.ui.time.TimeCountdownView
                            android:id="@+id/tcv_countdown"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content" />

                        <TextView
                            style="@style/comui_tips_gray_style"
                            android:id="@+id/text_display"
                            android:layout_width="match_parent"
                            android:layout_height="200dp"
                            android:layout_marginBottom="4dp"
                            android:background="@color/comui_color_999999"
                            android:gravity="center"
                            android:text="@{mvvmVm.text}"
                            android:textColor="@color/comui_color_black"
                            android:textSize="@dimen/comui_textSize_18sp"
                            bind:isVisibleOrInvisible="@{mvvmVm.isTextShow}" />

                        <com.google.android.flexbox.FlexboxLayout style="@style/comui_equant_horizontal_flex_style">

                            <Button
                                style="@style/comui_equant_horizontal_button_style"
                                android:id="@+id/button_operate_time"
                                android:onClick="@{() -> mvvmVm.onButtonOperateTimeClick()}"
                                android:text="@{mvvmVm.timeOperateState}" />
                        </com.google.android.flexbox.FlexboxLayout>

                        <com.google.android.flexbox.FlexboxLayout style="@style/comui_equant_horizontal_flex_style">

                            <Button
                                style="@style/comui_equant_horizontal_button_style"
                                android:id="@+id/button_show_time_text"
                                android:onClick="@{() -> mvvmVm.onButtonShowTimeTextClick()}"
                                android:text="显示时间" />

                            <Button
                                style="@style/comui_equant_horizontal_button_style"
                                android:id="@+id/button_hide_time_text"
                                android:onClick="@{() -> mvvmVm.onButtonHideTimeTextClick()}"
                                android:text="隐藏时间" />
                        </com.google.android.flexbox.FlexboxLayout>
                    </com.google.android.flexbox.FlexboxLayout>

                    <com.google.android.flexbox.FlexboxLayout
                        android:id="@+id/flexbox_image"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:visibility="visible"
                        app:flexDirection="column"
                        app:justifyContent="flex_start">

                        <ImageView
                            android:id="@+id/image_display"
                            android:layout_width="match_parent"
                            android:layout_height="200dp"
                            android:layout_marginBottom="4dp"
                            bind:path="@{mvvmVm.imageUrl}"
                            bind:placeholder="@{null}"
                            bind:error="@{null}" />

                        <com.google.android.flexbox.FlexboxLayout style="@style/comui_equant_horizontal_flex_style">

                            <Button
                                style="@style/comui_equant_horizontal_button_style"
                                android:id="@+id/button_image_dog"
                                android:onClick="@{mvvmVm::onButtonClick}"
                                android:text="狗狗" />

                            <Button
                                style="@style/comui_equant_horizontal_button_style"
                                android:id="@+id/button_image_cat"
                                android:onClick="@{mvvmVm::onButtonClick}"
                                android:text="猫咪" />

                            <Button
                                style="@style/comui_equant_horizontal_button_style"
                                android:id="@+id/button_image_chameleon"
                                android:onClick="@{mvvmVm::onButtonClick}"
                                android:text="变色龙" />
                        </com.google.android.flexbox.FlexboxLayout>
                    </com.google.android.flexbox.FlexboxLayout>

                    <com.google.android.flexbox.FlexboxLayout style="@style/comui_equant_horizontal_flex_style">

                        <Button
                            style="@style/comui_equant_horizontal_button_style"
                            android:id="@+id/button_switch_text"
                            android:onClick="@{() -> mvvmVm.onButtonSwitchTextClick()}"
                            android:text="切换到文字" />

                        <Button
                            style="@style/comui_equant_horizontal_button_style"
                            android:id="@+id/button_switch_image"
                            android:onClick="@{() -> mvvmVm.onButtonSwitchImageClick()}"
                            android:text="切换到图像" />
                    </com.google.android.flexbox.FlexboxLayout>
                </com.google.android.flexbox.FlexboxLayout>
            </LinearLayout>
        </ScrollView>
    </LinearLayout>
</layout>
